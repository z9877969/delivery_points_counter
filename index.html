<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #generalcontainer {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            overflow: hidden;
        }
        ul {
            list-style: none;
        }
    </style>
</head>

<body>
    <div id="generalcontainer"></div>
    <form>
        <textarea name="data" id="" cols="30" rows="10"></textarea>
        <button type="submit">Ok</button>
    </form>
    <ul id="result"></ul>
    <script>
        const form = document.querySelector('form');
        const generalContainer = document.querySelector('#generalcontainer');
        const result = document.querySelector('#result');


        form.addEventListener("submit", e => {
            e.preventDefault();
            generalContainer.innerHTML = e.currentTarget.elements.data.value;

            // console.log([...generalContainer.querySelectorAll('header + div')].reduce((acc, el, idx) => idx > 0 ? acc + '\n' + el.innerText.split('\n').slice(0, 2).join("\n") : acc + el.innerText.split('\n').slice(0, 2).join("\n"), ''));


            // const addresses = []
            result.innerHTML = [...generalContainer.querySelectorAll('header + div')].reduce((acc, el, idx) => {
                const item = `<li>${idx + 1}. ${el.innerText.split('\n').slice(0, 2).join("\n")}</li>`
                return idx > 0
                    ?
                    acc + '\n' + item
                    :
                    acc + item
            }, '')


            // console.log(generalContainer.querySelectorAll('[data-store-address=""][data-recapi-init="1"]'));
            // generalContainer.querySelectorAll('[data-recapi-init="1"]').forEach(el => console.log(el.innerText))
            // "ТЦ «Епіцентр»\nКиїв, вул. Полярна, 20-Д\nПрокласти маршрут\n063 431 11 32\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, вул. Братиславська, 11\nПрокласти маршрут\n073 233 72 48\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, Кільцева дорога, 1-Б\nПрокласти маршрут\n093 453 41 91\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, пр-т Петра Григоренка, 40\nПрокласти маршрут\n063 332 21 61\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nБучанський район, с. Петропавлівська Борщагівка, вул. Кришталева, 6\nПрокласти маршрут\n063 958 12 34\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, вул. Берковецька, 6-В\nПрокласти маршрут\n093 823 67 72\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, пр-т Степана Бандери, 11-А\nПрокласти маршрут\n093 954 27 86\nПн-нд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, Дніпровська наб., 13-В\nПрокласти маршрут\n093 976 31 93\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, пр-т Степана Бандери, 36-А\nПрокласти маршрут\n073 004 74 15\nПн-нд:08:00 — 22:00\nТЦ «Епіцентр»\nКиїв, вул. Оноре де Бальзака, 65/1\nПрокласти маршрут\n044 363 15 33\nПн-сб:07:30 — 22:00\nНд:08:00 — 22:00\nЦентр видачі замовлень\nКиїв, вул. Віскозна, 4\nПрокласти маршрут\n050 308 94 69\nПн-нд:09:00 — 18:00\nЦентр видачі замовлень\nКиїв, пр-т Берестейський (Перемоги), 20\nПрокласти маршрут\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, вул. Борщагівська, 154 (ТРЦ «Мармелад»)\nПрокласти маршрут\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, бул. Верховної Ради, 33/1\nПрокласти маршрут\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, пр-т Відрадний, 51\nПрокласти маршрут\n050 358 99 76\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, бул. Миколи Міхновського (Дружби народів), 17/5, прим. 71\nПрокласти маршрут\n050 328 53 86\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, пр-т Науки, 4, прим. 200\nПрокласти маршрут\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, вул. Радосинська, 2\nПрокласти маршрут\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nЦентр видачі замовлень\nКиїв, пр-т Соборності, 7-Б\nПрокласти маршрут\n050 341 34 79\nПн-пт:09:00 — 20:00\nСб:09:00 — 19:00\nНд:10:00 — 18:00\nІнтерспорт\nКиїв, вул. Берковецька, 6-Д (ТЦ «Lavina Mall»)\nПрокласти маршрут\n044 206 26 06\nПн-нд:10:00 — 21:00\nІнтерспорт\nКиїв, вул. Хрещатик, 38 (ТЦ «ЦУМ Київ»)\nПрокласти маршрут\nПн-нд:10:00 — 21:00\nІнтерспорт\nКиїв, пр-т Степана Бандери, 36-В (ТЦ «Blockbuster Mall»)\nПрокласти маршрут\nПн-нд:10:00 — 22:00\nІнтерспорт\nКиїв, пр-т Оболонський, 21-Б (ТЦ «Dream Town 2»)\nПрокласти маршрут\nПн-нд:10:00 — 21:00\nІнтерспорт\nКиїв, пр-т Правди, 47 (ТЦ «Retroville»)\nПрокласти маршрут\nПн-нд:10:00 — 22:00\nІнтерспорт\nКиїв, Кільцева дорога, 1 (ТЦ «Respublika Park»)\nПрокласти маршрут\nПн-нд:10:00 — 21:00\nГалереї Деко\nКиїв, пр-т Правди, 47 (ТЦ «Retroville»)\nПрокласти маршрут\n044 594 52 00\nПн-нд:10:00 — 22:00\nГалереї Деко\nКиїв, Дніпровська наб., 33 (ТЦ «Аркадія»)\nПрокласти маршрут\n044 594 52 11\nПн-нд:10:00 — 20:00\nТАФ\nКиїв, пр-т Степана Бандери, 36-В (ТЦ «Blockbuster Mall»)\nПрокласти маршрут\nПн-нд:10:00 — 21:00\nТАФ\nКиїв, пр-т Правди, 47 (ТЦ «Retroville»)\nПрокласти маршрут\nПн-нд:10:00 — 22:00\nТАФ\nКиїв, вул. Берковецька, 6-Д (ТЦ «Lavina Mall»)\nПрокласти маршрут\nПн-нд:10:00 — 22:00\n4Ф\nКиїв, пр-т Правди, 47 (ТЦ «Retroville»)\nПрокласти маршрут\nПн-нд:10:00 — 22:00\n4Ф\nКиїв, Кільцева дорога, 1 (ТЦ «Respublika Park»)\nПрокласти маршрут\nПн-нд:10:00 — 21:00\n4Ф\nКиїв, вул. Берковецька, 6-Д (ТЦ «Lavina Mall»)\nПрокласти маршрут\nПн-нд:10:00 — 22:00\nЕкспрес\nКиїв, вул. Андрія Малишка, 4-Д\nПрокласти маршрут\nПн-нд:08:00 — 21:00\nЕкспрес\nКиїв, вул. Празька, 3-А\nПрокласти маршрут\nПн-нд:08:00 — 21:00"

        })

    </script>


</body>

</html>